<!doctype html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="assets/images/favicon.png">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Plushies Archive</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Space+Grotesk:wght@600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="stylesheet" href="assets/css/theme.css" />

  <style>
    .page-headRow{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:16px;
      flex-wrap:wrap;
    }
    .page-headActions{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .btn{
      appearance:none;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.28);
      color:var(--text);
      border-radius:999px;
      padding:10px 14px;
      font:inherit;
      cursor:pointer;
      backdrop-filter: blur(10px);
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      white-space:nowrap;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.22);
      background:rgba(0,0,0,.34);
    }
    .btn:active{
      transform: translateY(0);
    }
    .btn:focus-visible{
      outline:2px solid rgba(124,92,255,.65);
      outline-offset:2px;
    }

    .modalOverlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.6);
      display:none;
      align-items:center;
      justify-content:center;
      padding:20px;
      z-index:9999;
    }
    .modalOverlay.is-open{ display:flex; }

    .modal{
      width:min(720px, 100%);
      background:rgba(18,20,27,.92);
      border:1px solid rgba(255,255,255,.12);
      border-radius:18px;
      box-shadow:0 20px 60px rgba(0,0,0,.55);
      overflow:hidden;
      backdrop-filter: blur(14px);
    }
    .modalHeader{
      padding:16px 18px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .modalTitle{
      margin:0;
      font-family:"Space Grotesk", ui-sans-serif, system-ui;
      font-weight:700;
      letter-spacing:.02em;
      font-size:18px;
    }
    .modalSub{
      margin:6px 0 0;
      color:var(--muted);
      font-size:13px;
      line-height:1.35;
    }
    .iconBtn{
      appearance:none;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.22);
      color:var(--text);
      width:36px;
      height:36px;
      border-radius:10px;
      cursor:pointer;
      display:grid;
      place-items:center;
    }
    .iconBtn:focus-visible{
      outline:2px solid rgba(124,92,255,.65);
      outline-offset:2px;
    }

    .modalBody{ padding:18px; }

    .grid2{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
    }
    @media (max-width: 720px){
      .grid2{ grid-template-columns:1fr; }
    }

    .field{ display:grid; gap:6px; }
    .field-label{ font-size:12px; letter-spacing:.02em; color:var(--muted); }
    .field-input{
      width:100%;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.30);
      color:var(--text);
      padding:10px 12px;
      font:inherit;
      backdrop-filter: blur(10px);
    }
    .field-input::placeholder{ color:rgba(255,255,255,.35); }
    .help{
      margin:6px 0 0;
      color:rgba(255,255,255,.55);
      font-size:12px;
      line-height:1.35;
    }

    .modalFooter{
      padding:16px 18px;
      border-top:1px solid rgba(255,255,255,.10);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .finePrint{
      color:var(--muted);
      font-size:12px;
      line-height:1.35;
      margin:0;
    }
  </style>
</head>

<body class="plushiePage" data-page="plushie">

  <div id="siteNav"></div>

  <header class="heroPoster">
    <div class="posterOverlay">
      <h1 class="posterTitle">THE PLUSH ARCHIVE</h1>
    </div>
  </header>

  <main class="container">
    <section class="page-head">
      <div class="page-headRow">
        <div>
          <h1 class="pageTitle">The Plushies Archive</h1>
          <p class="muted">Click a plush name to view details.</p>
        </div>

        <div class="page-headActions">
          <button class="btn" id="openSubmitPlush" type="button">Submit a Plush</button>
        </div>
      </div>
    </section>

    <section class="sold-grid" id="soldGrid" aria-label="Sold plushies gallery"></section>
  </main>

  <div class="container">
    <div class="footer">© <span id="y"></span> Cosminuity</div>
  </div>

  <div class="modalOverlay" id="submitModal" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="submitTitle">
      <div class="modalHeader">
        <div>
          <h2 class="modalTitle" id="submitTitle">Submit Your Plush</h2>
          <p class="modalSub">One of yours Add it to the archive. Submissions are reviewed before appearing.</p>
        </div>
        <button class="iconBtn" id="closeSubmitPlush" type="button" aria-label="Close">✕</button>
      </div>

      <div class="modalBody">
        <form id="submitPlushForm">
          <div class="grid2">
            <label class="field">
              <span class="field-label">Your name or alias</span>
              <input class="field-input" name="alias" autocomplete="nickname" placeholder="Mikayla" required>
            </label>

            <label class="field">
              <span class="field-label">Plush name or ID</span>
              <input class="field-input" name="plush" placeholder="Henri or 4011" required>
            </label>

            <label class="field">
              <span class="field-label">Order number</span>
              <input class="field-input" name="order" placeholder="Optional for now">
              <div class="help">"Optional for now. Will be used for verification later."</div>
            </label>

            <label class="field">
              <span class="field-label">Photo</span>
              <input class="field-input" name="photo" type="file" accept="image/*">
              <div class="help">JPG or PNG recommended.</div>
            </label>
          </div>

          <label class="field" style="margin-top:12px">
            <span class="field-label">Message</span>
            <textarea class="field-input" name="message" rows="4" placeholder="Tell a quick story or leave a note."></textarea>
          </label>

          <label class="field" style="margin-top:12px">
            <span class="field-label">Email (optional)</span>
            <input class="field-input" name="email" type="email" autocomplete="email" placeholder="Optional">
          </label>
        </form>
      </div>

      <div class="modalFooter">
        <p class="finePrint">By submitting, you confirm you own the photo or have permission to share it.</p>
        <div style="display:flex; gap:10px; align-items:center;">
          <button class="btn" id="cancelSubmitPlush" type="button">Cancel</button>
          <button class="btn" id="sendSubmitPlush" type="button">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <script src="assets/js/layout.js"></script>
  <script>
    const soldPlushies = [
      { img: "assets/images/plushie/4011.png", plush: "4011", buyer: "Mikayla", message: "", size: "md" },
      { img: "assets/images/plushie/bashkim.png", plush: "Bashkim", buyer: "Fahrije", message: "Meet Bashkim, which means 'Unity' in Albanian.", size: "lg" },
      { img: "assets/images/plushie/brick.jpg", plush: "Brick", buyer: "CosminuityStudios", message: "Like all good bowls of soup, stick the landing. Forget the earth, love yourself, eat the bathtub and finally Brick is the embodiment of a mistake, and we love that.", size: "md" },
      { img: "assets/images/plushie/candle.jpg", plush: "Candle", buyer: "Adriana", message: "I mean his name says it all he enjoys eating candles.", size: "sm" },
      { img: "assets/images/plushie/critter.png", plush: "Critter", buyer: "Mikayla", message: "", size: "lg" },
      { img: "assets/images/plushie/dunkin.jpg", plush: "Dunkin", buyer: "Annika", message: "Chill like my iced coffee.", size: "sm" },
      { img: "assets/images/plushie/hashbrown.jpg", plush: "Hashbrown", buyer: "Annika", message: "Hot and small like my hashbrowns.", size: "sm" },
      { img: "assets/images/plushie/henri.jpg", plush: "Henri", buyer: "Ben", message: "This is Henri. When he first arrived I swore he was an ordinary banana until he bit me. His favorite activity is arson and his favorite book is Green Eggs and Ham. Watch out for him in the grocery store because he will be guarding the cheese with his life.", size: "lg" },
      { img: "assets/images/plushie/lego.jpg", plush: "Lego", buyer: "London", message: "Lady killer of the year, literally or metaphorically is beyond me. Dude can skate.", size: "md" },
      { img: "assets/images/plushie/lostAndFoind.png", plush: "Lost And Foind", buyer: "Anne", message: "", size: "sm" },
      { img: "assets/images/plushie/milf.jpg", plush: "Milf", buyer: "Jaycob", message: "Named after what we like.", size: "md" },
      { img: "assets/images/plushie/ozzie.png", plush: "Ozzie", buyer: "London", message: "Certified passenger princess. Feral for the feet.", size: "lg" },
      { img: "assets/images/plushie/perry.png", plush: "Perry", buyer: "JJ", message: "", size: "sm" },
      { img: "assets/images/plushie/popsAndLolly.png", plush: "Pops And Lolly", buyer: "Violet", message: "You're just gonna have to live with the name pops.", size: "md" },
      { img: "assets/images/plushie/ramonne.jpg", plush: "Ramonne", buyer: "Adriana", message: "His catch phrase is low and slow baby. Not quite sure why but his fire paint job makes him the life of the party.", size: "md" },
      { img: "assets/images/plushie/rawrAndMindYaBuisness.png", plush: "Rawr And Mind Ya Business", buyer: "Steph", message: "I asked my son for their names and he said MindYaBuisness.", size: "lg" }
    ];

    const grid = document.getElementById("soldGrid");

    grid.innerHTML = soldPlushies.map(p => {
      const sizeClass =
        p.size === "lg" ? "is-wide" :
        p.size === "sm" ? "" :
        "";

      return `
        <article class="sold-card ${sizeClass}">
          <div class="sold-card--bg" style="background-image:url('${p.img}')">
            <div class="sold-panel">
              <details class="sold-details">
                <summary class="sold-summary">
                  <span class="sold-pill">${p.plush || ""}</span>
                  <span class="sold-hint">Click for details</span>
                </summary>

                <div class="sold-drawer">
                  <div class="sold-row">
                    <div class="sold-label">Buyer</div>
                    <div class="sold-value">${p.buyer || ""}</div>
                  </div>

                  ${
                    (p.message && p.message.trim())
                      ? `
                        <div class="sold-row">
                          <div class="sold-label">Message</div>
                          <div class="sold-value sold-messageText">
                            ${p.message}
                          </div>
                        </div>
                      `
                      : ``
                  }
                </div>
              </details>
            </div>
          </div>
        </article>
      `;
    }).join("");

    const modal = document.getElementById("submitModal");
    const openBtn = document.getElementById("openSubmitPlush");
    const closeBtn = document.getElementById("closeSubmitPlush");
    const cancelBtn = document.getElementById("cancelSubmitPlush");
    const sendBtn = document.getElementById("sendSubmitPlush");
    const form = document.getElementById("submitPlushForm");

    function openModal(){
      modal.classList.add("is-open");
      modal.setAttribute("aria-hidden","false");
      document.body.style.overflow = "hidden";
      const first = form.querySelector("input, textarea, button");
      if (first) first.focus();
    }

    function closeModal(){
      modal.classList.remove("is-open");
      modal.setAttribute("aria-hidden","true");
      document.body.style.overflow = "";
      openBtn.focus();
    }

    openBtn.addEventListener("click", openModal);
    closeBtn.addEventListener("click", closeModal);
    cancelBtn.addEventListener("click", closeModal);

    modal.addEventListener("click", (e) => {
      if (e.target === modal) closeModal();
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal.classList.contains("is-open")) closeModal();
    });

    sendBtn.addEventListener("click", () => {
      const data = new FormData(form);

      const payload = {
        alias: String(data.get("alias") || ""),
        plush: String(data.get("plush") || ""),
        order: String(data.get("order") || ""),
        message: String(data.get("message") || ""),
        email: String(data.get("email") || "")
      };

      if (!payload.alias.trim() || !payload.plush.trim()){
        alert("Please fill in your name and the plush name or ID.");
        return;
      }

      console.log("Submit Plush Payload:", payload);
      alert("Submitted. Submissions are reviewed before appearing in the archive.");
      form.reset();
      closeModal();
    });
  </script>

</body>
</html>
